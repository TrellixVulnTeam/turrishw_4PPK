#!/bin/sh
set -e

list() {
	echo "Found: switch0 - mdio@ffe24520"
}

show_port() {
	case "$1" in
		0)
			echo "			Port 0:"
			echo "	mib: MIB counters"
			echo "RxBroad     : 4"
			echo "RxPause     : 0"
			echo "RxMulti     : 2428"
			echo "RxFcsErr    : 0"
			echo "RxAlignErr  : 0"
			echo "RxRunt      : 0"
			echo "RxFragment  : 0"
			echo "Rx64Byte    : 666"
			echo "Rx128Byte   : 1732"
			echo "Rx256Byte   : 1545"
			echo "Rx512Byte   : 30"
			echo "Rx1024Byte  : 50"
			echo "Rx1518Byte  : 290"
			echo "RxMaxByte   : 0"
			echo "RxTooLong   : 0"
			echo "RxGoodByte  : 1034564 (1010.3 KiB)"
			echo "RxBadByte   : 0"
			echo "RxOverFlow  : 0"
			echo "Filtered    : 0"
			echo "TxBroad     : 2230"
			echo "TxPause     : 0"
			echo "TxMulti     : 7083"
			echo "TxUnderRun  : 0"
			echo "Tx64Byte    : 219"
			echo "Tx128Byte   : 3261"
			echo "Tx256Byte   : 2859"
			echo "Tx512Byte   : 4598"
			echo "Tx1024Byte  : 66"
			echo "Tx1518Byte  : 381"
			echo "TxMaxByte   : 0"
			echo "TxOverSize  : 0"
			echo "TxByte      : 2947742 (2.8 MiB)"
			echo "TxCollision : 0"
			echo "TxAbortCol  : 0"
			echo "TxMultiCol  : 0"
			echo "TxSingleCol : 0"
			echo "TxExcDefer  : 0"
			echo "TxDefer     : 0"
			echo "TxLateCol   : 0"
			echo ""
			echo "	enable_eee: ???"
			echo "	igmp_snooping: 0"
			echo "	pvid: 1"
			echo "	link: port:0 link:up speed:1000baseT full-duplex txflow rxflow"
			;;
		1)
			echo "Port 1:"
			echo "	mib: No MIB data"
			echo "	enable_eee: 0"
			echo "	igmp_snooping: 0"
			echo "	pvid: 1"
			echo "	link: port:1 link:down"
			;;
		2)
			echo "Port 2:"
			echo "	mib: No MIB data"
			echo "	enable_eee: 0"
			echo "	igmp_snooping: 0"
			echo "	pvid: 1"
			echo "	link: port:2 link:down"
			;;
		3)
			echo "Port 3:"
			echo "	mib: MIB counters"
			echo "RxBroad     : 2230"
			echo "RxPause     : 0"
			echo "RxMulti     : 7077"
			echo "RxFcsErr    : 0"
			echo "RxAlignErr  : 0"
			echo "RxRunt      : 0"
			echo "RxFragment  : 0"
			echo "Rx64Byte    : 219"
			echo "Rx128Byte   : 3268"
			echo "Rx256Byte   : 2856"
			echo "Rx512Byte   : 4598"
			echo "Rx1024Byte  : 66"
			echo "Rx1518Byte  : 381"
			echo "RxMaxByte   : 0"
			echo "RxTooLong   : 0"
			echo "RxGoodByte  : 2947750 (2.8 MiB)"
			echo "RxBadByte   : 0"
			echo "RxOverFlow  : 0"
			echo "Filtered    : 0"
			echo "TxBroad     : 4"
			echo "TxPause     : 0"
			echo "TxMulti     : 2428"
			echo "TxUnderRun  : 0"
			echo "Tx64Byte    : 666"
			echo "Tx128Byte   : 1737"
			echo "Tx256Byte   : 1553"
			echo "Tx512Byte   : 31"
			echo "Tx1024Byte  : 51"
			echo "Tx1518Byte  : 290"
			echo "TxMaxByte   : 0"
			echo "TxOverSize  : 0"
			echo "TxByte      : 1037250 (1012.9 KiB)"
			echo "TxCollision : 0"
			echo "TxAbortCol  : 0"
			echo "TxMultiCol  : 0"
			echo "TxSingleCol : 0"
			echo "TxExcDefer  : 0"
			echo "TxDefer     : 0"
			echo "TxLateCol   : 0"
			echo ""
			echo "	enable_eee: 0"
			echo "	igmp_snooping: 0"
			echo "	pvid: 1"
			echo "	link: port:3 link:up speed:1000baseT full-duplex txflow rxflow auto"
			;;
		4)
			echo "Port 4:"
			echo "	mib: No MIB data"
			echo "	enable_eee: 0"
			echo "	igmp_snooping: 0"
			echo "	pvid: 1"
			echo "	link: port:4 link:down"
			;;
		5)
			echo "Port 5:"
			echo "	mib: No MIB data"
			echo "	enable_eee: 0"
			echo "	igmp_snooping: 0"
			echo "	pvid: 2"
			echo "	link: port:5 link:down"
			;;
		6)
			echo "Port 6:"
			echo "	mib: MIB counters"
			echo "RxBroad     : 2226"
			echo "RxPause     : 0"
			echo "RxMulti     : 5213"
			echo "RxFcsErr    : 0"
			echo "RxAlignErr  : 0"
			echo "RxRunt      : 0"
			echo "RxFragment  : 0"
			echo "Rx64Byte    : 689"
			echo "Rx128Byte   : 768"
			echo "Rx256Byte   : 3770"
			echo "Rx512Byte   : 2212"
			echo "Rx1024Byte  : 0"
			echo "Rx1518Byte  : 0"
			echo "RxMaxByte   : 0"
			echo "RxTooLong   : 0"
			echo "RxGoodByte  : 1536171 (1.4 MiB)"
			echo "RxBadByte   : 0"
			echo "RxOverFlow  : 0"
			echo "Filtered    : 7433"
			echo "TxBroad     : 0"
			echo "TxPause     : 0"
			echo "TxMulti     : 5"
			echo "TxUnderRun  : 0"
			echo "Tx64Byte    : 0"
			echo "Tx128Byte   : 2"
			echo "Tx256Byte   : 3"
			echo "Tx512Byte   : 0"
			echo "Tx1024Byte  : 0"
			echo "Tx1518Byte  : 0"
			echo "TxMaxByte   : 0"
			echo "TxOverSize  : 0"
			echo "TxByte      : 598"
			echo "TxCollision : 0"
			echo "TxAbortCol  : 0"
			echo "TxMultiCol  : 0"
			echo "TxSingleCol : 0"
			echo "TxExcDefer  : 0"
			echo "TxDefer     : 0"
			echo "TxLateCol   : 0"
			echo ""
			echo "	enable_eee: ???"
			echo "	igmp_snooping: 0"
			echo "	pvid: 2"
			echo "	link: port:6 link:up speed:1000baseT full-duplex txflow rxflow"
			;;
		*)
			exit 1
	esac
}

show_all() {
	echo "	Global attributes:"
	echo "	enable_vlan: 1"
	echo "	enable_mirror_rx: 0"
	echo "	enable_mirror_tx: 0"
	echo "	mirror_monitor_port: 0"
	echo "	mirror_source_port: 0"
	echo "	arl_age_time: 300"
	echo "	arl_table: address resolution table"
	echo "Port 0: MAC d8:58:d7:00:0c:ed"
	echo "Port 3: MAC e4:6f:13:f3:d5:be"
	echo "Port 6: MAC d8:58:d7:00:0c:ed"
	echo "Port 6: MAC e4:6f:13:f3:d5:be"
	echo ""
	echo "	igmp_snooping: 0"
	echo "	igmp_v3: 0"
	show_port 0
	show_port 1
	show_port 2
	show_port 3
	show_port 4
	show_port 5
	show_port 6
	echo "VLAN 1:"
	echo "	vid: 1"
	echo "	ports: 0 1 2 3 4 "
	echo "VLAN 2:"
	echo "	vid: 2"
	echo "	ports: 5 6 "
}

. "$(dirname $(readlink -f "$0"))/../../swconfig.common.sh"
